# 🎮 演示应用

此文件夹包含基于YOLO-SAM2的演示应用和工具。

## 📁 文件说明

### 核心应用
- **`yolo_sam2_ui.py`** - YOLO-SAM2 Web UI界面
  - 结合YOLO11检测和SAM2分割
  - 直观的Streamlit界面
  - 实时预览和结果导出

- **`run_yolo_sam2_ui.py`** - UI启动脚本
  - 自动检查依赖和模型
  - 一键启动Web界面
  - 系统状态监控

- **`yolo_sam2_demo.py`** - 命令行演示脚本
  - 批量视频处理
  - 命令行参数配置
  - 自动化处理流程

- **`test_yolo_sam2.py`** - 系统测试脚本
  - 环境和依赖检查
  - 模型加载测试
  - 功能完整性验证

### 文档文件
- **`YOLO_SAM2_README.md`** - 详细使用说明
- **`YOLO_SAM2_SUMMARY.md`** - 系统总结文档

## 🚀 使用方法

### 1. Web UI界面 (推荐)
```bash
cd demo_apps
python run_yolo_sam2_ui.py
```
然后访问: http://localhost:8506

### 2. 命令行演示
```bash
cd demo_apps
python yolo_sam2_demo.py --video your_video.mp4
```

### 3. 系统测试
```bash
cd demo_apps
python test_yolo_sam2.py
```

## 🎯 核心功能

### YOLO-SAM2 工作流程
1. **视频上传** - 支持多种视频格式
2. **YOLO检测** - 自动检测目标物体
3. **中心点提取** - 自动生成SAM2输入点
4. **SAM2分割** - 精确像素级分割
5. **视频传播** - 传播到整个视频序列
6. **结果导出** - 多格式输出

### Web UI特性
- 🎨 **直观界面** - 用户友好的操作界面
- 📊 **实时预览** - 即时查看处理结果
- ⚙️ **参数调节** - 灵活的参数配置
- 💾 **多种导出** - 掩码、视频、可视化

### 命令行特性
- 🚀 **批量处理** - 支持多视频处理
- 📝 **详细日志** - 完整的处理日志
- 🔧 **灵活配置** - 丰富的命令行参数
- 🎯 **自动化** - 适合脚本集成

## 📊 支持格式

### 输入格式
- **视频**: MP4, AVI, MOV, MKV
- **图像**: JPG, PNG, BMP

### 输出格式
- **掩码**: PNG (二值图像)
- **可视化**: JPG (彩色叠加)
- **视频**: MP4 (分割结果视频)

## ⚙️ 配置选项

### YOLO参数
```bash
--yolo          # YOLO模型路径
--conf 0.25     # 置信度阈值
```

### SAM2参数
```bash
--sam2          # SAM2模型路径
--ref-frame 10  # 参考帧索引
```

### 处理参数
```bash
--max-frames 100    # 最大处理帧数
--output results    # 输出目录
```

## 🎨 应用场景

### 农业应用
- 作物分割和计数
- 病虫害检测
- 生长监测

### 工业应用
- 产品缺陷检测
- 质量控制
- 自动化检测

### 医学应用
- 医学影像分割
- 病灶检测
- 诊断辅助

### 研究应用
- 视频分析
- 目标跟踪
- 数据标注

## 📈 性能表现

### 系统配置
- **GPU**: RTX 4060 Laptop GPU (7.6GB)
- **YOLO模型**: 训练好的辣椒检测模型 (mAP: 99.5%)
- **SAM2模型**: sam2.1_hiera_base_plus

### 处理能力
- **检测速度**: ~30 FPS (GPU)
- **分割精度**: 像素级精确分割
- **内存使用**: 优化管理，支持长视频
- **批量处理**: 支持多目标同时分割

## 🔧 故障排除

### 常见问题
1. **模型加载失败**
   ```bash
   python test_yolo_sam2.py  # 运行系统测试
   ```

2. **CUDA内存不足**
   - 减少max_frames参数
   - 关闭其他GPU程序

3. **未检测到目标**
   - 调整置信度阈值
   - 选择不同的参考帧

4. **分割效果不佳**
   - 选择目标更清晰的帧
   - 确保检测框准确

### 性能优化
- 使用GPU加速
- 调整批次大小
- 优化内存使用

## 🎮 交互体验

### Web UI操作流程
1. 启动应用 → 2. 上传视频 → 3. 配置参数 → 4. 开始处理 → 5. 预览结果 → 6. 导出数据

### 命令行批处理
```bash
# 批量处理多个视频
for video in *.mp4; do
    python yolo_sam2_demo.py --video "$video" --output "results_$(basename "$video" .mp4)"
done
```

## 🔮 扩展功能

- **实时处理**: 支持摄像头实时分割
- **API服务**: 提供REST API接口
- **移动端**: 开发移动应用版本
- **云部署**: 支持云端部署

---
**🎯 提示**: 建议先运行系统测试确保环境正常，然后使用Web UI进行交互式操作！ 