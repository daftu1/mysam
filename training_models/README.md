# ğŸ“ æ¨¡å‹è®­ç»ƒå·¥å…·

æ­¤æ–‡ä»¶å¤¹åŒ…å«YOLO11æ¨¡å‹è®­ç»ƒçš„å®Œæ•´å·¥å…·é“¾å’Œè„šæœ¬ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

### è®­ç»ƒè„šæœ¬
- **`prepare_dataset.py`** - æ•°æ®é›†å‡†å¤‡å·¥å…·
  - æ•°æ®é›†éªŒè¯å’Œé¢„å¤„ç†
  - è‡ªåŠ¨ç”Ÿæˆdataset.yamlé…ç½®
  - æ•°æ®é›†ç»Ÿè®¡å’Œåˆ†æ

- **`train_yolo11.py`** - YOLO11è®­ç»ƒè„šæœ¬
  - æ”¯æŒå¤šç§YOLO11æ¨¡å‹ï¼ˆn/s/m/l/xï¼‰
  - è‡ªåŠ¨è¶…å‚æ•°ä¼˜åŒ–
  - è®­ç»ƒè¿‡ç¨‹ç›‘æ§

- **`run_training.py`** - ä¸€é”®è®­ç»ƒå¯åŠ¨å™¨
  - æ•´åˆæ•°æ®å‡†å¤‡å’Œæ¨¡å‹è®­ç»ƒ
  - è‡ªåŠ¨é…ç½®è®­ç»ƒå‚æ•°
  - è®­ç»ƒæ—¥å¿—è®°å½•

- **`test_yolo.py`** - æ¨¡å‹æµ‹è¯•å’Œè¯„ä¼°
  - æ¨¡å‹æ€§èƒ½è¯„ä¼°
  - æ¨ç†é€Ÿåº¦æµ‹è¯•
  - ç»“æœå¯è§†åŒ–

### é…ç½®æ–‡ä»¶
- **`requirements.txt`** - Pythonä¾èµ–åŒ…åˆ—è¡¨
- **`TRAINING_GUIDE.md`** - è¯¦ç»†è®­ç»ƒæŒ‡å—

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. ç¯å¢ƒå‡†å¤‡
```bash
cd training_models
pip install -r requirements.txt
```

### 2. æ•°æ®é›†å‡†å¤‡
```bash
python prepare_dataset.py --dataset_path ../data_generation/yolo_dataset_your_name
```

### 3. å¼€å§‹è®­ç»ƒ
```bash
# æ–¹æ³•1: ä½¿ç”¨ä¸€é”®è®­ç»ƒè„šæœ¬
python run_training.py

# æ–¹æ³•2: ç›´æ¥è®­ç»ƒ
python train_yolo11.py --data dataset.yaml --epochs 100 --imgsz 640
```

### 4. æ¨¡å‹æµ‹è¯•
```bash
python test_yolo.py --model runs/detect/train/weights/best.pt --source test_images/
```

## ğŸ“Š è®­ç»ƒé…ç½®

### æ”¯æŒçš„æ¨¡å‹
- **YOLO11n** - è½»é‡çº§æ¨¡å‹ï¼Œå¿«é€Ÿæ¨ç†
- **YOLO11s** - å°å‹æ¨¡å‹ï¼Œå¹³è¡¡æ€§èƒ½
- **YOLO11m** - ä¸­å‹æ¨¡å‹ï¼Œè¾ƒé«˜ç²¾åº¦
- **YOLO11l** - å¤§å‹æ¨¡å‹ï¼Œé«˜ç²¾åº¦
- **YOLO11x** - è¶…å¤§æ¨¡å‹ï¼Œæœ€é«˜ç²¾åº¦

### è®­ç»ƒå‚æ•°
```python
# é»˜è®¤è®­ç»ƒé…ç½®
epochs = 100           # è®­ç»ƒè½®æ•°
batch_size = 16        # æ‰¹æ¬¡å¤§å°
imgsz = 640           # è¾“å…¥å›¾åƒå°ºå¯¸
lr0 = 0.01            # åˆå§‹å­¦ä¹ ç‡
patience = 50         # æ—©åœè€å¿ƒå€¼
save_period = 10      # æ¨¡å‹ä¿å­˜é—´éš”
```

## ğŸ“ˆ è®­ç»ƒç›‘æ§

### TensorBoardå¯è§†åŒ–
```bash
# å¯åŠ¨TensorBoard
tensorboard --logdir runs/detect/train
```

### è®­ç»ƒæŒ‡æ ‡
- **mAP50** - IoU=0.5æ—¶çš„å¹³å‡ç²¾åº¦
- **mAP50-95** - IoU=0.5:0.95çš„å¹³å‡ç²¾åº¦
- **Precision** - ç²¾ç¡®ç‡
- **Recall** - å¬å›ç‡
- **Loss** - è®­ç»ƒæŸå¤±

## ğŸ¯ è¾“å‡ºç»“æœ

### è®­ç»ƒè¾“å‡º
```
runs/detect/train_YYYYMMDD_HHMMSS/
â”œâ”€â”€ weights/
â”‚   â”œâ”€â”€ best.pt          # æœ€ä½³æ¨¡å‹
â”‚   â”œâ”€â”€ last.pt          # æœ€åä¸€è½®æ¨¡å‹
â”‚   â””â”€â”€ best.onnx        # ONNXæ ¼å¼æ¨¡å‹
â”œâ”€â”€ results.png          # è®­ç»ƒæ›²çº¿å›¾
â”œâ”€â”€ confusion_matrix.png # æ··æ·†çŸ©é˜µ
â”œâ”€â”€ val_batch0_pred.jpg  # éªŒè¯é¢„æµ‹ç»“æœ
â””â”€â”€ args.yaml           # è®­ç»ƒå‚æ•°
```

### æ¨¡å‹æ€§èƒ½ç¤ºä¾‹
åŸºäºè¾£æ¤’æ£€æµ‹è®­ç»ƒç»“æœï¼š
- **mAP50**: 99.5%
- **mAP50-95**: 99.5%
- **Precision**: 99.84%
- **Recall**: 100%

## âš™ï¸ é«˜çº§é…ç½®

### è‡ªå®šä¹‰æ•°æ®å¢å¼º
```python
# åœ¨train_yolo11.pyä¸­ä¿®æ”¹
augment_params = {
    'hsv_h': 0.015,      # è‰²è°ƒå¢å¼º
    'hsv_s': 0.7,        # é¥±å’Œåº¦å¢å¼º
    'hsv_v': 0.4,        # æ˜åº¦å¢å¼º
    'degrees': 0.0,      # æ—‹è½¬è§’åº¦
    'translate': 0.1,    # å¹³ç§»
    'scale': 0.5,        # ç¼©æ”¾
    'shear': 0.0,        # å‰ªåˆ‡
    'perspective': 0.0,  # é€è§†å˜æ¢
    'flipud': 0.0,       # å‚ç›´ç¿»è½¬
    'fliplr': 0.5,       # æ°´å¹³ç¿»è½¬
    'mosaic': 1.0,       # é©¬èµ›å…‹å¢å¼º
    'mixup': 0.0,        # æ··åˆå¢å¼º
}
```

### å¤šGPUè®­ç»ƒ
```bash
# ä½¿ç”¨å¤šGPUè®­ç»ƒ
python -m torch.distributed.run --nproc_per_node=2 train_yolo11.py --data dataset.yaml
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **CUDAå†…å­˜ä¸è¶³**: å‡å°‘batch_size
2. **è®­ç»ƒä¸æ”¶æ•›**: è°ƒæ•´å­¦ä¹ ç‡å’Œæ•°æ®å¢å¼º
3. **è¿‡æ‹Ÿåˆ**: å¢åŠ æ•°æ®æˆ–ä½¿ç”¨æ­£åˆ™åŒ–
4. **æ¬ æ‹Ÿåˆ**: å¢åŠ æ¨¡å‹å¤æ‚åº¦æˆ–è®­ç»ƒè½®æ•°

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨æ··åˆç²¾åº¦è®­ç»ƒ (`amp=True`)
- å¯ç”¨ç¼–è¯‘ä¼˜åŒ– (`compile=True`)
- è°ƒæ•´å·¥ä½œè¿›ç¨‹æ•° (`workers=8`)

## ğŸ“š ç›¸å…³èµ„æº

- [YOLO11å®˜æ–¹æ–‡æ¡£](https://docs.ultralytics.com/)
- [è®­ç»ƒæœ€ä½³å®è·µ](https://docs.ultralytics.com/guides/training-tips/)
- [æ¨¡å‹éƒ¨ç½²æŒ‡å—](https://docs.ultralytics.com/guides/deployment/)

---
**ğŸ¯ æç¤º**: è®­ç»ƒå‰è¯·ç¡®ä¿æ•°æ®é›†è´¨é‡ï¼Œè‰¯å¥½çš„æ•°æ®æ˜¯æ¨¡å‹æˆåŠŸçš„å…³é”®ï¼ 